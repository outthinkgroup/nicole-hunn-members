{"version":3,"sources":["global-sidebar/global-sidebar.js","top-bar/top-bar.js","product-card/products/recipe-collection/recipe-collection.js","product-card/products/recipes/collection-single-recipes.js","index.js"],"names":["initGlobalSidebar","runOnDesktop","expandSidebar","addHandlerToToggler","isSideBarOpen","localStorage","getItem","document","body","dataset","sidebarState","toggleHandler","containerEl","toggle","attr","setItem","querySelectorAll","forEach","toggleBtn","addEventListener","state","dimensions","callback","checkIfDesktop","x","isMobile","matches","window","matchMedia","addListener","initOpenCloseSubMenus","menuItem","button","querySelector","handleToggleSubMenu","initNotificationAlert","showRecentUpdates","e","target","clearUserNotificationMeta","toggleUpdatesCard","dot","notify","fetch","WP","ajaxUrl","method","mode","credentials","headers","toQueryString","action","notified","then","res","console","log","wrapperEl","closest","closeUpdatesCard","openUpdatesCard","el","handleCloseUpdatesCard","removeEventListener","classList","contains","data","queryString","URLSearchParams","toString","initRecipeCollectionScript","collectionCard","showDeleteActionBtn","handleShowDeleteUI","item","parentElement","listId","userId","confirm","__FAVE_RECIPE","deleteList","error","err","message","alert","removeChild","initRecipeProductCard","recipeCard","deleteBtn","handleDeleteFromList","recipeId","deleteRecipeFromList","card","originalStyle","style","list"],"mappings":"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","file":"index.js","sourceRoot":"../components","sourcesContent":["window.addEventListener(\"DOMContentLoaded\", initGlobalSidebar);\nfunction initGlobalSidebar() {\n  runOnDesktop(\"650px\", expandSidebar);\n  addHandlerToToggler();\n}\n\nfunction expandSidebar() {\n  isSideBarOpen = localStorage.getItem(\"isSideBarOpen\");\n  if (isSideBarOpen === \"false\") return;\n  document.body.dataset.sidebarState = \"open\";\n}\nfunction addHandlerToToggler() {\n  const toggleButtons = [\n    ...document.querySelectorAll('[data-part=\"toggle-sidebar\"] button'),\n  ];\n  toggleButtons.forEach((toggleBtn) =>\n    toggleBtn.addEventListener(\"click\", toggleHandler)\n  );\n\n  function toggleHandler() {\n    const containerEl = document.body;\n    const attr = \"sidebarState\";\n    const oldState = toggle({ containerEl, attr });\n    const isSideBarOpen = typeof oldState === \"undefined\" ? \"true\" : \"false\";\n    localStorage.setItem(\"isSideBarOpen\", isSideBarOpen);\n  }\n}\n\nfunction toggle({ containerEl, attr }) {\n  const state = containerEl.dataset[attr];\n  if (state) {\n    delete containerEl.dataset[attr];\n  } else {\n    containerEl.dataset[attr] = \"open\";\n  }\n  return state;\n}\n\nfunction runOnDesktop(dimensions, callback) {\n  function checkIfDesktop(x) {\n    if (!isMobile.matches) {\n      callback();\n    }\n  }\n\n  var isMobile = window.matchMedia(`(max-width: ${dimensions})`);\n  checkIfDesktop(isMobile); // Call listener function at run time\n  isMobile.addListener(checkIfDesktop); // Attach listener function on state changes\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", initOpenCloseSubMenus);\nfunction initOpenCloseSubMenus() {\n  const allMenuItemsWithChildren = [\n    ...document.querySelectorAll(\".menu-item-has-children\"),\n  ];\n  allMenuItemsWithChildren.forEach((menuItem) => {\n    const button = menuItem.querySelector(\"[data-action]\");\n    const subMenu = menuItem.querySelector(\".sub-menu\");\n    button.addEventListener(\"click\", handleToggleSubMenu);\n    function handleToggleSubMenu() {\n      toggle({ containerEl: menuItem, attr: \"open\" });\n    }\n  });\n}\n","window.addEventListener(\"DOMContentLoaded\", initNotificationAlert);\nfunction initNotificationAlert() {\n  const notificationButton = document.querySelector(\n    '[data-part=\"notifications\"]'\n  );\n  notificationButton.addEventListener(\"click\", showRecentUpdates);\n}\nfunction showRecentUpdates(e) {\n  const button = e.target;\n  clearUserNotificationMeta(button);\n  toggleUpdatesCard(button);\n}\nfunction clearUserNotificationMeta(button) {\n  const dot = button.querySelector(\".dot\");\n  if (dot.dataset.notify == \"false\") return;\n  dot.dataset.notify = \"false\";\n  const data = {\n    action: \"nhm_clear_notification\",\n    notified: true,\n  };\n  fetch(`${WP.ajaxUrl}`, {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: \"same-origin\", // include, *same-origin, omit\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n    },\n    body: toQueryString(data),\n  }).then((res) => console.log(res));\n}\n\nfunction toggleUpdatesCard(button) {\n  const wrapperEl = button.closest(\".notification-wrapper\");\n  const state = wrapperEl.dataset.state;\n  if (state === \"opened\") {\n    closeUpdatesCard(wrapperEl);\n  } else {\n    openUpdatesCard(wrapperEl);\n  }\n}\n\nfunction openUpdatesCard(el) {\n  console.log(\"ran\");\n  el.dataset.state = \"opened\";\n  document.body.addEventListener(\"click\", handleCloseUpdatesCard);\n}\nfunction closeUpdatesCard(el) {\n  el.dataset.state = \"closed\";\n  document.body.removeEventListener(\"click\", handleCloseUpdatesCard);\n}\nfunction handleCloseUpdatesCard(e) {\n  console.log(\"ran handleCloseUpdatesCard\");\n  if (\n    e.target.classList.contains(\"notification-wrapper\") ||\n    e.target.closest(\".notification-wrapper\")\n  )\n    return;\n  const wrapper = document.querySelector(\".notification-wrapper\");\n  closeUpdatesCard(wrapper);\n}\n\nfunction toQueryString(data) {\n  const urlSearhParams = new URLSearchParams(data);\n  const queryString = urlSearhParams.toString();\n  return queryString;\n}\n","window.addEventListener(\"DOMContentLoaded\", initRecipeCollectionScript);\nfunction initRecipeCollectionScript() {\n  if (!document.querySelector(\".product-card.post-type-lists\")) return;\n\n  const allCards = [\n    ...document.querySelectorAll(\".product-card.post-type-lists\"),\n  ];\n  allCards.forEach((collectionCard) => {\n    showDeleteActionBtn = collectionCard.querySelector(\n      '[data-action=\"warn-delete-list\"]'\n    );\n    showDeleteActionBtn.addEventListener(\"click\", handleShowDeleteUI);\n  });\n}\n\nfunction handleShowDeleteUI(e) {\n  const item = e.target.closest(\".list-item\");\n  const parentElement = item.parentElement;\n  const { listId } = item.dataset;\n  const { userId } = WP;\n  if (window.confirm(\"Are you sure you want to delete this collection\")) {\n    item.dataset.state = \"loading\";\n    window.__FAVE_RECIPE.deleteList(listId, userId).then((res) => {\n      if (res.error) {\n        if (err.message) {\n          alert(err.message);\n        }\n        item.dataset.state = \"error\";\n      } else {\n        if (parentElement.contains(item)) {\n          parentElement.removeChild(item);\n        }\n      }\n    });\n  }\n}\n","window.addEventListener(\"DOMContentLoaded\", initRecipeProductCard);\nfunction initRecipeProductCard() {\n  if (!document.querySelector(\".recipe-collections-single-layout\")) return;\n\n  const allCards = [\n    ...document.querySelectorAll(\n      \".recipe-collections-single-layout .product-card.post-type-recipe \"\n    ),\n  ];\n  allCards.forEach((recipeCard) => {\n    deleteBtn = recipeCard.querySelector('[data-action=\"delete-from-list\"]');\n    deleteBtn.addEventListener(\"click\", handleDeleteFromList);\n  });\n}\n\nfunction handleDeleteFromList(e) {\n  const { listId, recipeId } = e.target.dataset;\n  const { deleteRecipeFromList } = __FAVE_RECIPE;\n  const card = e.target.closest(\".product-card\");\n  const originalStyle = card.style;\n  const list = card.closest(\"ul\");\n  card.style = \"display:none\";\n  deleteRecipeFromList({ listId, recipeId }).then((res) => {\n    if (res.error) {\n      if (err.message) {\n        card.style = originalStyle;\n        alert(err.message);\n      }\n    } else {\n      list.removeChild(card);\n    }\n  });\n}\n","import \"./global-sidebar/global-sidebar.js\";\nimport \"./top-bar/top-bar.js\";\nimport \"./product-card/products/recipe-collection/recipe-collection.js\";\nimport \"./product-card/products/recipes/collection-single-recipes.js\";\nimport \"./index.scss\";\n"]}